<% include partials/top %>

<h5 class="center">Current Stats of Poll</h5>

<div class="container" style="margin-top: 10vh;">
  <div class="row">
    <div class="col s12 m6">
      <canvas id="petPie"></canvas>
    </div>
    <div class="col s12 m6">
      <canvas id="partiesPie"></canvas>
    </div>
    <div class="col s12 m6">
      <canvas id="plPie"></canvas>
    </div>
    <div class="col s12 m6">
      <canvas id="gamesPie"></canvas>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>

<script>
  let petsCtx = document.getElementById("petPie");
  let plCtx = document.getElementById("plPie");
  let gamesCtx = document.getElementById("gamesPie");
  let partiesCtx = document.getElementById("partiesPie");

  let plPie = new Chart(plCtx, {
    type: "pie",
    data: {
      labels: ["Python", "Javascript", "Java", "C++"],
      datasets: [
        {
          label: "# of Votes",
          data: [
            "<%= pls.py.count %>",
            "<%= pls.js.count %>",
            "<%= pls.java.count %>",
            "<%= pls['c++'].count %>"
          ],
          backgroundColor: [
            "rgba(75, 192, 192, 0.2)",
            "rgba(153, 102, 255, 0.2)",
            "rgba(255, 159, 64, 0.2)",
            "rgba(205, 90, 64, 0.2)"
          ],
          borderColor: [
            "rgba(75, 192, 192, 1)",
            "rgba(153, 102, 255, 1)",
            "rgba(255, 159, 64, 1)",
            "rgba(205, 90, 64, 1)"
          ],
          borderWidth: 1
        }
      ]
    }
  });

  let gamePie = new Chart(gamesCtx, {
    type: "pie",
    data: {
      labels: ["PUBG", "Fortnite", "CODM", "ApexLegend"],
      datasets: [
        {
          label: "# of Votes",
          data: [
            "<%= games.pubg.count %>",
            "<%= games.fortnite.count %>",
            "<%= games.codm.count %>",
            "<%= games.apex.count %>"
          ],
          backgroundColor: [
            "rgba(75, 192, 192, 0.2)",
            "rgba(153, 102, 255, 0.2)",
            "rgba(255, 159, 64, 0.2)",
            "rgba(205, 109, 100, 0.2)"
          ],
          borderColor: [
            "rgba(75, 192, 192, 1)",
            "rgba(153, 102, 255, 1)",
            "rgba(255, 159, 64, 1)",
            "rgba(205, 109, 100, 1)"
          ],
          borderWidth: 1
        }
      ]
    }
  });

  let partiesPie = new Chart(partiesCtx, {
    type: "pie",
    data: {
      labels: ["Bjp", "Congress", "Shivsena"],
      datasets: [
        {
          label: "# of Votes",
          data: [
            "<%= parties.bjp.count %>",
            "<%= parties.congress.count %>",
            "<%= parties.shivsena.count %>"
          ],
          backgroundColor: [
            "rgba(75, 192, 192, 0.2)",
            "rgba(153, 102, 255, 0.2)",
            "rgba(255, 159, 64, 0.2)"
          ],
          borderColor: [
            "rgba(75, 192, 192, 1)",
            "rgba(153, 102, 255, 1)",
            "rgba(255, 159, 64, 1)"
          ],
          borderWidth: 1
        }
      ]
    }
  });

  let petPie = new Chart(petsCtx, {
    type: "pie",
    data: {
      labels: ["Dogs", "Cats", "Rabits"],
      datasets: [
        {
          label: "# of Votes",
          data: [
            "<%= pets.dogs.count %>",
            "<%= pets.cats.count %>",
            "<%= pets.rabits.count %>"
          ],
          backgroundColor: [
            "rgba(75, 192, 192, 0.2)",
            "rgba(153, 102, 255, 0.2)",
            "rgba(255, 159, 64, 0.2)"
          ],
          borderColor: [
            "rgba(75, 192, 192, 1)",
            "rgba(153, 102, 255, 1)",
            "rgba(255, 159, 64, 1)"
          ],
          borderWidth: 1
        }
      ]
    }
  });
</script>

<% include partials/bot %>
